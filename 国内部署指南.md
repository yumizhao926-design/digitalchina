# 国内部署指南 - 神州数码 AI 官网

由于 Vercel 在国内无法访问，本文档提供适合国内部署的方案。

---

## 🇨🇳 推荐方案

### 方案A：腾讯云 COS 静态托管（推荐，免费）

#### 优势
- ✅ 完全免费（有免费额度）
- ✅ 国内访问速度快
- ✅ 不需要维护服务器
- ✅ 自动 HTTPS
- ✅ 支持 CDN 加速

#### 步骤

##### 1. 从 GitHub 克隆项目

```bash
# 克隆项目
git clone https://github.com/yumizhao926-design/digitalchina.git
cd digitalchina
```

##### 2. 构建静态文件

```bash
# 安装依赖
pnpm install

# 构建静态文件
pnpm run build
```

构建完成后，会在 `out/` 目录生成静态文件。

##### 3. 注册腾讯云账号

1. 访问：https://cloud.tencent.com
2. 注册并登录
3. 实名认证（需要上传身份证，1-2小时）

##### 4. 创建 COS 存储桶

1. 进入 **"对象存储 COS"**
2. 点击 **"创建存储桶"**
3. 配置如下：
   - **名称**：`digitalchina-website`（或任意名称）
   - **地域**：选择离你近的（如上海、北京）
   - **访问权限**：选择 **"公有读私有写"**
   - **版本控制**：不开启
4. 点击 **"确定"**

##### 5. 上传静态文件

1. 进入刚创建的存储桶
2. 点击 **"上传文件"**
3. 选择 `out/` 目录下的所有文件
4. 点击 **"上传"**

##### 6. 开启静态网站托管

1. 在存储桶页面，点击 **"基础配置"**
2. 找到 **"静态网站"**
3. 点击 **"编辑"**
4. 勾选 **"状态"**：开启
5. **索引文档**：`index.html`
6. **错误文档**：`404.html`
7. 点击 **"保存"**

##### 7. 访问网站

你会看到一个访问地址，例如：
```
https://digitalchina-website-1234567890.cos.ap-shanghai.myqcloud.com
```

在浏览器访问这个地址即可！

##### 8. 绑定域名（可选）

如果你有域名，可以绑定：

1. 在 **"域名管理"** → **"绑定自定义域名"**
2. 输入你的域名
3. 点击 **"确定"**
4. 在域名解析中添加 CNAME 记录，指向提供的域名

---

### 方案B：Gitee Pages（免费）

#### 优势
- ✅ 完全免费
- ✅ Gitee 是国内服务，访问快
- ✅ 简单易用

#### 步骤

##### 1. 推送到 Gitee

**注册 Gitee**：
1. 访问：https://gitee.com
2. 注册并登录

**创建仓库**：
1. 点击右上角 "+" → "新建仓库"
2. 仓库名：`digitalchina`
3. 选择"公开"
4. 点击"创建"

**导入 GitHub 仓库**：
1. 在仓库页面，点击右上角 "+" → "从 GitHub / GitLab 导入仓库"
2. 输入 GitHub 地址：
   ```
   https://github.com/yumizhao926-design/digitalchina.git
   ```
3. 点击"导入"

##### 2. 启用 Gitee Pages

1. 进入仓库
2. 点击 **"服务"** → **"Gitee Pages"**
3. 配置如下：
   - **部署分支**：`main`
   - **部署目录**：留空
4. 点击 **"启动"**

##### 3. 等待部署

等待 2-5 分钟，部署成功后会显示访问地址：
```
https://你的用户名.gitee.io/digitalchina
```

⚠️ **注意**：Gitee Pages 每天更新次数有限制（免费用户每天 1 次）

---

### 方案C：阿里云轻量应用服务器（30元/月）

#### 优势
- ✅ 功能最强大
- ✅ 可以部署任何项目
- ✅ 完全控制
- ✅ 新用户有免费试用

#### 步骤

##### 1. 购买服务器

1. 访问：https://www.aliyun.com/product/swas
2. 选择 **"轻量应用服务器"**
3. 配置：
   - **地域**：选择离你近的
   - **镜像**：Ubuntu 22.04 LTS
   - **套餐**：2核2GB 60GB（约 60元/3个月）
   - **购买时长**：3个月或1年
4. 点击 **"立即购买"**
5. 设置密码并支付

##### 2. 连接服务器

**Windows**：
```
ssh root@你的公网IP
```

**Mac/Linux**：
```bash
ssh root@你的公网IP
```

##### 3. 安装环境

```bash
# 更新系统
apt update -y && apt upgrade -y

# 安装 Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
apt install -y nodejs

# 安装 pnpm
npm install -g pnpm

# 安装 git
apt install -y git
```

##### 4. 克隆并部署

```bash
# 克隆项目
cd /var/www
git clone https://github.com/yumizhao926-design/digitalchina.git
cd digitalchina

# 安装依赖
pnpm install

# 构建
pnpm run build

# 安装 PM2
npm install -g pm2

# 启动服务
pm2 start npm --name "digitalchina" -- start

# 设置开机自启
pm2 save
pm2 startup
```

##### 5. 配置防火墙

在阿里云控制台，安全组中添加规则：
- TCP 80：允许
- TCP 443：允许
- TCP 22：允许

##### 6. 访问网站

直接访问：`http://你的公网IP`

---

## 📊 方案对比

| 方案 | 费用 | 难度 | 访问速度 | 维护成本 |
|------|------|------|---------|---------|
| 腾讯云 COS | 免费 | ⭐⭐ | ⭐⭐⭐⭐⭐ | 低 |
| Gitee Pages | 免费 | ⭐ | ⭐⭐⭐⭐ | 低 |
| 阿里云轻量服务器 | 30元/月 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 中 |

---

## 🎯 我的推荐

### 首选：方案A（腾讯云 COS）

**理由**：
- ✅ 完全免费
- ✅ 国内访问快
- ✅ 不需要维护服务器
- ✅ 自动 HTTPS
- ✅ 简单易用

### 备选：方案B（Gitee Pages）

**理由**：
- ✅ 完全免费
- ✅ 简单易用
- ⚠️ 每天更新次数受限

---

## ❓ 常见问题

### Q1: 静态导出后功能会受限吗？

A: 静态导出后，以下功能不可用：
- ❌ API 路由（如 `/api/xxx`）
- ❌ 动态路由（如 `/pages/[id]`）
- ❌ 图片优化（已配置 unoptimized）

但你的网站主要是静态展示，没有这些功能，所以不受影响。

### Q2: 腾讯云 COS 真的免费吗？

A: 是的，有免费额度：
- 存储空间：50GB
- 流量：10GB/月
- 请求次数：100万次/月

对于普通网站完全够用。

### Q3: 如何更新网站？

**方案A（腾讯云 COS）**：
1. 重新构建：`pnpm run build`
2. 重新上传 `out/` 目录的所有文件

**方案B（Gitee Pages）**：
1. 提交代码到 Gitee
2. 在 Gitee Pages 点击"更新"

**方案C（阿里云服务器）**：
```bash
cd /var/www/digitalchina
git pull
pnpm install
pnpm run build
pm2 restart digitalchina
```

---

## 🚀 立即开始

**选择方案A（腾讯云 COS）**：
1. 注册腾讯云账号
2. 创建 COS 存储桶
3. 构建并上传静态文件
4. 获得访问地址

**5分钟搞定！**

---

## 📞 需要帮助？

如果遇到问题，提供以下信息：
1. 使用的方案（A/B/C）
2. 在哪一步卡住
3. 完整的错误信息

祝你部署顺利！🚀
